---
phase: 10-final-validation
plan: 02
type: execute
wave: 2
depends_on: ["10-01"]
files_modified:
  - .planning/STATE.md
  - .planning/ROADMAP.md
autonomous: false

must_haves:
  truths:
    - "GitHub Pages deployment updated with test fix from Plan 01"
    - "All three tabs work correctly in browser after code changes"
    - "Hierarchy View still displays sorted tree structure"
    - "All export formats work (Excel and HTML for each tab)"
    - "Operations team can validate the tool with real BOM files"
  artifacts:
    - path: ".planning/STATE.md"
      provides: "Updated project state reflecting Phase 10 completion"
    - path: ".planning/ROADMAP.md"
      provides: "Updated roadmap with Phase 10 marked complete"
  key_links:
    - from: "https://mondreykr.github.io/bom-tool/"
      to: "js/core/tree.js"
      via: "GitHub Pages deployment"
      pattern: "sortChildren"
---

<objective>
Push the test fix to GitHub Pages, re-verify browser functionality, and prepare for operations team UAT.

Purpose: Plan 01 changed core module behavior (sortChildren separated from buildTree). Even though automated tests pass, browser re-verification confirms no regression in the live deployment. This plan also creates the UAT checklist for operations team validation -- the final gate before declaring the refactor production-ready.

Output: Updated GitHub Pages deployment, browser verification, UAT checklist for operations.
</objective>

<execution_context>
@C:/Users/amcallister/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/amcallister/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-deployment/09-02-SUMMARY.md
@.planning/phases/10-final-validation/10-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Push changes to GitHub Pages and verify deployment</name>
  <files></files>
  <action>
Push all committed changes from Plan 01 to the remote repository so GitHub Pages redeploys.

```bash
git push origin main
```

Wait 1-2 minutes for GitHub Pages to redeploy. Then verify the deployment is live by checking that the site loads at https://mondreykr.github.io/bom-tool/

Note: The user needs to verify browser functionality in the next task (checkpoint). This task just ensures the push succeeds.
  </action>
  <verify>git push succeeds without errors. Check `git status` shows clean working tree and branch is up to date with remote.</verify>
  <done>Changes pushed to GitHub Pages. Site will redeploy within 1-3 minutes.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Browser re-verification after test fix</name>
  <files></files>
  <action>
Plan 01 separated sortChildren from buildTree. The automated tests now pass 4/4. The change affects how tree data is structured before display in Hierarchy View and Comparison scoped selection. All three tabs should still work identically.

User must visit https://mondreykr.github.io/bom-tool/ and verify these critical items:

1. Page loads without errors -- Open DevTools (F12) > Console tab, confirm no red errors from BOM Tool code (browser extension errors are OK)

2. Hierarchy View tab (most important -- this is where sortChildren matters) -- Click "Hierarchy View" tab, upload a test XML file (e.g., 258730-Rev2-20260105.XML from test-data/), verify tree structure displays with expand/collapse working, verify items appear grouped by type, verify expand/collapse arrows work on assembly nodes

3. Flat BOM tab -- Click "Flat BOM" tab, upload a test XML file, click "Flatten BOM", verify results table displays, click "Export to Excel" and verify .xlsx downloads, click "Export to HTML" and verify .html downloads

4. BOM Comparison tab -- Click "BOM Comparison" tab, upload old BOM file then new BOM file, click "Compare", verify comparison results display with Added/Removed/Changed items, if scoped comparison available verify the tree selection panel displays correctly, click "Export to Excel" and verify .xlsx downloads

5. Tab switching -- Switch between all three tabs, confirm no console errors appear during switching
  </action>
  <verify>User confirms all 5 verification steps pass by typing "approved" or describes issues found.</verify>
  <done>Browser re-verification confirms all three tabs work correctly after the sortChildren refactor. No regressions in deployed application.</done>
</task>

<task type="auto">
  <name>Task 3: Update project state and roadmap for Phase 10 completion</name>
  <files>.planning/STATE.md, .planning/ROADMAP.md</files>
  <action>
After browser verification is approved:

1. Update .planning/STATE.md:
   - Change "Phase: 10 of 10 (Final Validation) -- READY" to "Phase: 10 of 10 (Final Validation) -- COMPLETE"
   - Update "Progress: [##########] 100%"
   - Add Phase 10 to the Performance Metrics table
   - Update "Last activity" to current date
   - Update "Session Continuity" section
   - Add decision: "sortChildren separated from buildTree to fix test regressions while preserving UI sort order"
   - Update Phase 10 status in Blockers/Concerns section
   - Note that VALID-01 (4/4 tests), VALID-02 (tabs work), VALID-03 (exports work), VALID-04 (scoped comparison works) are all validated
   - Note VALID-05 (performance) is validated subjectively (no degradation observed)
   - Note Operations team UAT (success criteria #6 from roadmap) can be done asynchronously by sharing the GitHub Pages URL

2. Update .planning/ROADMAP.md:
   - Change Phase 10 from `[ ]` to `[x]` in the phase list
   - Update Phase 10 Plans section with actual plan details
   - Update Progress table: Phase 10 row with plans complete and status "Complete"

3. Create a brief UAT checklist that can be shared with the operations team:
   Include in STATE.md under a new "## Operations Team UAT" section:
   - URL: https://mondreykr.github.io/bom-tool/
   - 5 test scenarios (flatten current BOM, compare revisions, scoped comparison, export and share, process historical BOM)
   - Simple pass/fail checkboxes
   - Note that the tool has been technically validated (4/4 tests, browser verified) and this UAT is for business validation
  </action>
  <verify>
1. STATE.md shows Phase 10 complete and 100% progress
2. ROADMAP.md shows Phase 10 checked off with plan details
3. UAT checklist is present in STATE.md
  </verify>
  <done>Project state updated to reflect completed refactoring. UAT checklist ready for operations team. All 10 phases complete.</done>
</task>

</tasks>

<verification>
1. `git push origin main` succeeds
2. https://mondreykr.github.io/bom-tool/ loads and all tabs work
3. Hierarchy View displays sorted tree structure (confirming sortChildren wiring works)
4. STATE.md and ROADMAP.md updated
5. UAT checklist available for operations team
</verification>

<success_criteria>
- GitHub Pages deployment updated with test fix
- Browser re-verification passes all checks (human confirmed)
- Hierarchy View still shows sorted tree (critical regression check)
- All export formats work
- Project documentation updated to reflect completion
- Operations team UAT checklist ready for asynchronous validation
</success_criteria>

<output>
After completion, create `.planning/phases/10-final-validation/10-02-SUMMARY.md`
</output>
